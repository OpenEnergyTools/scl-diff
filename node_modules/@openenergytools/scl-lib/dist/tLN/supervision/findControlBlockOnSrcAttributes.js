/** @returns control block or null for a set of ExtRef attributes */
export function findControlBlockBySrcAttributes(doc, extRefSrc) {
    return (Array.from(doc.querySelectorAll(`:root > IED[name="${extRefSrc.iedName}"] ReportControl, 
            :root > IED[name="${extRefSrc.iedName}"] GSEControl, 
            :root > IED[name="${extRefSrc.iedName}"] SampledValueControl`)).find((cBlock) => cBlock.closest("LDevice").getAttribute("inst") === extRefSrc.ldInst &&
        (cBlock.closest("LN, LN0").getAttribute("prefix") ?? "") ===
            extRefSrc.prefix &&
        cBlock.closest("LN, LN0").getAttribute("lnClass") ===
            extRefSrc.lnClass &&
        cBlock.closest("LN, LN0").getAttribute("inst") === extRefSrc.lnInst &&
        cBlock.getAttribute("name") === extRefSrc.cbName) ?? null);
}
//# sourceMappingURL=findControlBlockOnSrcAttributes.js.map